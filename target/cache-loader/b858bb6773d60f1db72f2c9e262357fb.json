{"remainingRequest":"/Users/valeriodiego/Documents/auto/node_modules/thread-loader/dist/cjs.js??ref--9-2!/Users/valeriodiego/Documents/auto/node_modules/ts-loader/index.js??ref--9-3!/Users/valeriodiego/Documents/auto/node_modules/angular-router-loader/src/index.js!/Users/valeriodiego/Documents/auto/node_modules/tslint-loader/index.js!/Users/valeriodiego/Documents/auto/src/main/webapp/app/shared/login/login.component.ts","dependencies":[{"path":"/Users/valeriodiego/Documents/auto/src/main/webapp/app/shared/login/login.component.ts","mtime":1538729462000},{"path":"/Users/valeriodiego/Documents/auto/node_modules/angular2-template-loader/index.js","mtime":1486570058000},{"path":"/Users/valeriodiego/Documents/auto/node_modules/cache-loader/dist/cjs.js","mtime":1538729485000},{"path":"/Users/valeriodiego/Documents/auto/node_modules/thread-loader/dist/cjs.js","mtime":1538729484000},{"path":"/Users/valeriodiego/Documents/auto/node_modules/ts-loader/index.js","mtime":1519365772000},{"path":"/Users/valeriodiego/Documents/auto/node_modules/angular-router-loader/src/index.js","mtime":1512749902000},{"path":"/Users/valeriodiego/Documents/auto/node_modules/tslint-loader/index.js","mtime":1519899048000}],"contextDependencies":[],"result":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar core_1 = require(\"@angular/core\");\nvar ng_bootstrap_1 = require(\"@ng-bootstrap/ng-bootstrap\");\nvar router_1 = require(\"@angular/router\");\nvar ng_jhipster_1 = require(\"ng-jhipster\");\nvar login_service_1 = require(\"app/core/login/login.service\");\nvar state_storage_service_1 = require(\"app/core/auth/state-storage.service\");\nvar JhiLoginModalComponent = /** @class */ (function () {\n    function JhiLoginModalComponent(eventManager, loginService, stateStorageService, elementRef, renderer, router, activeModal) {\n        this.eventManager = eventManager;\n        this.loginService = loginService;\n        this.stateStorageService = stateStorageService;\n        this.elementRef = elementRef;\n        this.renderer = renderer;\n        this.router = router;\n        this.activeModal = activeModal;\n        this.credentials = {};\n    }\n    JhiLoginModalComponent.prototype.ngAfterViewInit = function () {\n        var _this = this;\n        setTimeout(function () { return _this.renderer.invokeElementMethod(_this.elementRef.nativeElement.querySelector('#username'), 'focus', []); }, 0);\n    };\n    JhiLoginModalComponent.prototype.cancel = function () {\n        this.credentials = {\n            username: null,\n            password: null,\n            rememberMe: true\n        };\n        this.authenticationError = false;\n        this.activeModal.dismiss('cancel');\n    };\n    JhiLoginModalComponent.prototype.login = function () {\n        var _this = this;\n        this.loginService\n            .login({\n            username: this.username,\n            password: this.password,\n            rememberMe: this.rememberMe\n        })\n            .then(function () {\n            _this.authenticationError = false;\n            _this.activeModal.dismiss('login success');\n            if (_this.router.url === '/register' || /^\\/activate\\//.test(_this.router.url) || /^\\/reset\\//.test(_this.router.url)) {\n                _this.router.navigate(['']);\n            }\n            _this.eventManager.broadcast({\n                name: 'authenticationSuccess',\n                content: 'Sending Authentication Success'\n            });\n            // previousState was set in the authExpiredInterceptor before being redirected to login modal.\n            // since login is succesful, go to stored previousState and clear previousState\n            var redirect = _this.stateStorageService.getUrl();\n            if (redirect) {\n                _this.stateStorageService.storeUrl(null);\n                _this.router.navigate([redirect]);\n            }\n        })\n            .catch(function () {\n            _this.authenticationError = true;\n        });\n    };\n    JhiLoginModalComponent.prototype.register = function () {\n        this.activeModal.dismiss('to state register');\n        this.router.navigate(['/register']);\n    };\n    JhiLoginModalComponent.prototype.requestResetPassword = function () {\n        this.activeModal.dismiss('to state requestReset');\n        this.router.navigate(['/reset', 'request']);\n    };\n    JhiLoginModalComponent = tslib_1.__decorate([\n        core_1.Component({\n            selector: 'jhi-login-modal',\n            templateUrl: './login.component.html'\n        }),\n        tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof ng_jhipster_1.JhiEventManager !== \"undefined\" && ng_jhipster_1.JhiEventManager) === \"function\" && _a || Object, typeof (_b = typeof login_service_1.LoginService !== \"undefined\" && login_service_1.LoginService) === \"function\" && _b || Object, typeof (_c = typeof state_storage_service_1.StateStorageService !== \"undefined\" && state_storage_service_1.StateStorageService) === \"function\" && _c || Object, typeof (_d = typeof core_1.ElementRef !== \"undefined\" && core_1.ElementRef) === \"function\" && _d || Object, typeof (_e = typeof core_1.Renderer !== \"undefined\" && core_1.Renderer) === \"function\" && _e || Object, typeof (_f = typeof router_1.Router !== \"undefined\" && router_1.Router) === \"function\" && _f || Object, typeof (_g = typeof ng_bootstrap_1.NgbActiveModal !== \"undefined\" && ng_bootstrap_1.NgbActiveModal) === \"function\" && _g || Object])\n    ], JhiLoginModalComponent);\n    return JhiLoginModalComponent;\n    var _a, _b, _c, _d, _e, _f, _g;\n}());\nexports.JhiLoginModalComponent = JhiLoginModalComponent;\n",{"version":3,"file":"/Users/valeriodiego/Documents/auto/src/main/webapp/app/shared/login/login.component.ts","sourceRoot":"","sources":["/Users/valeriodiego/Documents/auto/node_modules/angular-router-loader/src/index.js!/Users/valeriodiego/Documents/auto/node_modules/tslint-loader/index.js!/Users/valeriodiego/Documents/auto/src/main/webapp/app/shared/login/login.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, AfterViewInit, Renderer, ElementRef } from '@angular/core';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport { Router } from '@angular/router';\nimport { JhiEventManager } from 'ng-jhipster';\n\nimport { LoginService } from 'app/core/login/login.service';\nimport { StateStorageService } from 'app/core/auth/state-storage.service';\n\n@Component({\n    selector: 'jhi-login-modal',\n    templateUrl: './login.component.html'\n})\nexport class JhiLoginModalComponent implements AfterViewInit {\n    authenticationError: boolean;\n    password: string;\n    rememberMe: boolean;\n    username: string;\n    credentials: any;\n\n    constructor(\n        private eventManager: JhiEventManager,\n        private loginService: LoginService,\n        private stateStorageService: StateStorageService,\n        private elementRef: ElementRef,\n        private renderer: Renderer,\n        private router: Router,\n        public activeModal: NgbActiveModal\n    ) {\n        this.credentials = {};\n    }\n\n    ngAfterViewInit() {\n        setTimeout(() => this.renderer.invokeElementMethod(this.elementRef.nativeElement.querySelector('#username'), 'focus', []), 0);\n    }\n\n    cancel() {\n        this.credentials = {\n            username: null,\n            password: null,\n            rememberMe: true\n        };\n        this.authenticationError = false;\n        this.activeModal.dismiss('cancel');\n    }\n\n    login() {\n        this.loginService\n            .login({\n                username: this.username,\n                password: this.password,\n                rememberMe: this.rememberMe\n            })\n            .then(() => {\n                this.authenticationError = false;\n                this.activeModal.dismiss('login success');\n                if (this.router.url === '/register' || /^\\/activate\\//.test(this.router.url) || /^\\/reset\\//.test(this.router.url)) {\n                    this.router.navigate(['']);\n                }\n\n                this.eventManager.broadcast({\n                    name: 'authenticationSuccess',\n                    content: 'Sending Authentication Success'\n                });\n\n                // previousState was set in the authExpiredInterceptor before being redirected to login modal.\n                // since login is succesful, go to stored previousState and clear previousState\n                const redirect = this.stateStorageService.getUrl();\n                if (redirect) {\n                    this.stateStorageService.storeUrl(null);\n                    this.router.navigate([redirect]);\n                }\n            })\n            .catch(() => {\n                this.authenticationError = true;\n            });\n    }\n\n    register() {\n        this.activeModal.dismiss('to state register');\n        this.router.navigate(['/register']);\n    }\n\n    requestResetPassword() {\n        this.activeModal.dismiss('to state requestReset');\n        this.router.navigate(['/reset', 'request']);\n    }\n}\n"]}]}